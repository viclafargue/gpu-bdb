<?xml version="1.0" encoding="UTF-8" ?>
<!--<Configuration strict="true"-->
<!--			   xmlns="http://logging.apache.org/log4j/2.0/config"-->
<!--			   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"-->
<!--			   xsi:schemaLocation="http://logging.apache.org/log4j/2.0/config-->
<!--           	https://raw.githubusercontent.com/apache/logging-log4j2/master/log4j-core/src/main/resources/Log4j-config.xsd">-->
<Configuration packages="pdgf.util.messaging">
	<Appenders>
		<Console name="STDOUT" target="SYSTEM_OUT">
			<PatternLayout>
				<pattern>%m%n</pattern>
			</PatternLayout>
			<Filters>
				<ThresholdFilter level="INFO" onMatch="ACCEPT" onMismatch="DENY"/>
<!--				<ThresholdFilter level="WARN" onMatch="DENY" onMismatch="NEUTRAL"/>-->
			</Filters>
		</Console>

		<Console name="StdErr" target="SYSTEM_ERR">
			<PatternLayout pattern="%m%n" />
<!--			<Filters>-->
<!--				<LevelRangeFilter minLevel="FATAL" maxLevel="ERROR" onMatch="ACCEPT" onMismatch="DENY" />-->
<!--			</Filters>-->
		</Console>

<!--		<Console name="STDOUT_DEBUG">-->
<!--			<Layout type="PatternLayout" pattern="%m%n" />-->
<!--			<Filters></Filters>-->
<!--			<filter class="org.apache.log4j.varia.LevelRangeFilter">-->
<!--				<param name="LevelMax" value="ALL"/>-->
<!--				<param name="LevelMin" value="ALL"/>-->
<!--				<param name="AcceptOnMatch" value="false"/>-->
<!--			</filter>-->
<!--		</Console>-->
<!--		<appender name="STDOUT_TRACE" class="org.apache.log4j.ConsoleAppender">-->
<!--			<layout class="org.apache.log4j.PatternLayout">-->
<!--				&lt;!&ndash; <param name="ConversionPattern" value="%c %d{ISO8601} %p %m%n" /> &ndash;&gt;-->
<!--				<param name="ConversionPattern" value="%5p [%t] (%F:%L): %n  %m%n"/>-->
<!--			</layout>-->
<!--			<filter class="org.apache.log4j.varia.LevelRangeFilter">-->
<!--				<param name="LevelMax" value="TRACE"/>-->
<!--				<param name="LevelMin" value="TRACE"/>-->
<!--				<param name="AcceptOnMatch" value="true"/>-->
<!--			</filter>-->
<!--		</appender>-->

<!--		<appender name="file" class="org.apache.log4j.RollingFileAppender">-->
<!--			<param name="File" value="${pdgf.log.folder}/${pdgf.log.file}"/>-->
<!--			<param name="Threshold" value="DEBUG"/>-->
<!--			<param name="Append" value="false"/>-->
<!--			<param name="MaxFileSize" value="500KB"/>-->
<!--			<param name="MaxBackupIndex" value="10"/>-->
<!--			<layout class="org.apache.log4j.PatternLayout">-->
<!--				<param name="ConversionPattern" value="%p %t %c - %m%n"/>-->
<!--			</layout>-->
<!--		</appender>-->
		<RollingFile name="file"
					 fileName="logs/pdgf.log" append="false"
					 filePattern="logs/pdgf-%i.log.gz">
			<Filters>
				<ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="NEUTRAL" />
			</Filters>
			<PatternLayout>
				<Pattern>%p %t %c - %m%n</Pattern>
			</PatternLayout>
			<Policies>
				<SizeBasedTriggeringPolicy size="512KB"/>
			</Policies>
		</RollingFile>

		<Log4JObserverableAppender name="observerableAppender">
			<PatternLayout>
				<pattern>%5p [%t](%F) - %m%n</pattern>
			</PatternLayout>
			<Filters>
				<ThresholdFilter level="INFO" onMatch="ACCEPT" onMismatch="DENY" />
			</Filters>
		</Log4JObserverableAppender>
	</Appenders>

	<Loggers>
		<Root level="all">
			<!--		<priority value="DEBUG" />-->
<!--			<appender-ref ref="STDOUT" />-->
			<!--		<appender-ref ref="STDOUT_DEBUG" />-->
<!--			<appender-ref ref="StdErr" />-->
			<!--		<appender-ref ref="file" />-->
<!--			<appender-ref ref="observerableAppender" />-->
			<AppenderRef ref="file" />
			<AppenderRef ref="STDOUT" />
		</Root>
			<Logger name="kafka" level="warn" />
			<Logger name="org.apache" level="warn" />
			<Logger name="marytts" level="off" />
	</Loggers>

</Configuration>











